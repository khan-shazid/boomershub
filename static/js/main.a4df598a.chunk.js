(this["webpackJsonpboomershub-test"]=this["webpackJsonpboomershub-test"]||[]).push([[0],{160:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),c=a.n(l),o=a(23);a(74),a(61),a(75);var s=a(9),i=a(10),u=a(12),d=a(11),m=a(13),p=a(31),h=a(19),f=a(22),g=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){console.log("route",a.state.activeTab)},a.state={activeTab:window.location.pathname,parentTab:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("nav",{id:"sidebar"},r.a.createElement("div",{className:"sidebar-header"},r.a.createElement("h3",null,"Bootstrap Sidebar")),r.a.createElement("ul",{className:"list-unstyled components"},r.a.createElement("p",null,"Dummy Heading"),r.a.createElement("li",{className:"/"===this.state.activeTab||"/upload-resource"===this.state.activeTab?"active":""},r.a.createElement(f.b,{to:"/upload-resource",onClick:function(t){e.setState({activeTab:"/upload-resource"})}},"Upload Resource")),r.a.createElement("li",{className:this.state.activeTab.includes("/resource-list")?"active":""},r.a.createElement(f.b,{to:"/resource-list",onClick:function(t){e.setState({activeTab:"/resource-list"})}},"Resource List")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"Contact"))))}}]),t}(n.Component),E=Object(o.b)((function(e){return{isCollapsed:e.sidebar.isCollapsed}}),{toggle:function(e){return function(t){t({type:"COLLAPSE_SIDEBAR",payload:{isCollapsed:!e}})}}})(g),b=function(e){var t=e.children;Object(p.a)(e,["children"]);return r.a.createElement("div",{className:"wrapper"},r.a.createElement(E,null),r.a.createElement("div",{id:"content"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("button",{type:"button",id:"sidebarCollapse",className:"btn btn-info"},r.a.createElement("i",{className:"fas fa-align-left"}),r.a.createElement("span",null,"Toggle Sidebar")))),t))},v=a(7),y=a.n(v),C=a(25),O=a.n(C),S=a(18),j=a.n(S),w=function(e){return r.a.createElement("h1",{className:"page-header",style:{margin:"20px 0"}},e.value)},x=(a(140),a(63)),N=a.n(x),k=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(N.a,{type:this.props.type,visible:this.props.visible,color:"#00BFFF",height:this.props.height,width:this.props.width})}}]),t}(r.a.Component),F=function(e){var t=e.data;return r.a.createElement("div",{className:"alert alert-".concat(t.type),role:"alert"},t.message)},R=function(e){var t=e.title,a=e.loader,n=e.buttonStyle,l=e.loaderStyle,c=e.dimen,o=e.onClick;return(r.a.createElement("button",{className:"btn btn-".concat(n),onClick:o,disabled:a},r.a.createElement(k,{visible:a,type:l,height:c,width:c}),t))},D=[{dataField:"id",text:"#"},{dataField:"name",text:"Name"},{dataField:"address",text:"Address"},{dataField:"city",text:"City"},{dataField:"state",text:"State"},{dataField:"zipCode",text:"Zip Code"},{dataField:"county",text:"County"},{dataField:"phone",text:"Phone"},{dataField:"type",text:"Type"},{dataField:"capacity",text:"Capacity"}],I=["name","address","city","state","zipCode","county","phone","type","capacity"],T={onClick:function(e,t,a){console.log("clicked on row with index: ".concat(a))}},L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).parseData=function(e){var t;return y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.target.files){n.next=2;break}return n.abrupt("return");case 2:return console.log("uploaded file",e.target.files[0].name),(t=new FileReader).onload=function(e){for(var t=e.target.result,n=[],r=[],l=t.split("\n");!/[a-zA-Z]/.test(l[0]);)l.splice(0,1);l[0].split(",").forEach((function(e){return r.push(e)}));for(var c=1;c<l.length;c++){for(var o=l[c].split(","),s={},i=0;i<o.length;i++)if(!(i>=r.length)&&r[i]){var u=r[i][0].toLowerCase()+r[i].replace(/\s/g,"").substr(1);-1!==I.indexOf(u)&&/\S/.test(o[i])&&(s[u]=o[i])}Object.keys(s).length&&(s.id=c,n.push(s))}a.setState({data:n}),console.log("Jsoncontents",n)},n.next=7,y.a.awrap(t.readAsText(e.target.files[0]));case 7:case"end":return n.stop()}}))},a.uploadData=function(){var e;return y.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(e=a.state.data).map((function(e){return delete e.id,e})),a.setState({loader:!0}),t.next=5,y.a.awrap(j.a.post("/api/resource",e).then((function(e){console.log(e),a.setState({loader:!1,data:[],alert:{type:"success",message:e.data.message}})})).catch((function(e){console.log(e),a.setState({loader:!1,alert:{type:"danger",message:e.data.message}})})));case 5:case"end":return t.stop()}}))},a.state={data:[],loader:!1,alert:{type:"",message:""}},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.loader,a=e.alert;return r.a.createElement("div",null,r.a.createElement(w,{value:"Upload Resource"}),a.type?r.a.createElement(F,{data:a}):"",r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Select CSV file"),r.a.createElement("input",{type:"file",className:"form-control-file",id:"csvUpload",onChange:this.parseData}))),r.a.createElement(O.a,{keyField:"id",data:this.state.data,columns:D,rowEvents:T}),r.a.createElement(R,{title:"Upload",loader:t,buttonStyle:"primary",dimen:20,onClick:this.uploadData,loaderStyle:"Audio"}))}}]),t}(n.Component),U=a(15),A=function(){return function(e){var t;return y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:"FECTH_LIST_PENDING"}),a.next=3,y.a.awrap(j.a.get("/api/resource"));case 3:t=a.sent,e({type:"FETCH_RESOURCES_RESOLVED",payload:t.data.data});case 5:case"end":return a.stop()}}))}},_=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).uploadImages=function(e){console.log("image list",e.target.files)},a.componentDidMount=function(){return y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loader:!0}),e.next=3,y.a.awrap(a.props.fetchResources());case 3:a.setState({loader:!1});case 4:case"end":return e.stop()}}))},a.state={data:[],loader:!1,alert:{type:"",message:""}},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this.state,a=t.loader,n=t.alert;return console.log("print resources",this.props.resources),r.a.createElement("div",null,r.a.createElement(w,{value:"Resource List"}),n.type?r.a.createElement(F,{data:n}):"",a?r.a.createElement("div",{style:{textAlign:"center",marginTop:200}},r.a.createElement(k,{visible:a,type:"Audio",height:150,width:150})):r.a.createElement(O.a,{classes:"table-hover",keyField:"id",data:this.props.resources,columns:D,rowEvents:(e=this.props,{onClick:function(t,a,n){console.log("clicked on row with index:",a.name),e.history.push("/resource-list/"+a.id)}})}))}}]),t}(n.Component),B=Object(o.b)((function(e){return{resources:e.resources.resources}}),(function(e){return Object(U.b)({fetchResources:A},e)}))(_),z=a(29),P=a(30),H=function(e){var t=e.title,a=e.name,n=e.flag,l=e.value,c=(e.type,e.onChange);return(r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},t),r.a.createElement("td",null,n?r.a.createElement("input",{type:"text",name:a,value:l||"",onChange:c}):l)))},J=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.match.params;a.setState({resourceId:e.resourceId}),j.a.get("/api/resource/"+e.resourceId).then((function(e){console.log(e),e.data.success?a.setState({data:e.data.data}):a.setState({alert:{type:"danger",message:e.data.message}})})).catch((function(e){console.log(JSON.stringify(e)),a.setState({alert:{type:"danger",message:e.message}})})),console.log("print id",e)},a.grabImages=function(e){var t,n;return y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:t=Array.from(e.target.files),n=a.state.images,t.map((function(e){n.push(URL.createObjectURL(e))})),a.setState({images:n,files:t}),console.log("images newly",n);case 5:case"end":return r.stop()}}))},a.uploadData=function(){var e=a.state,t=e.files,n=(e.resourceId,new FormData);t.forEach((function(e,t){n.append(t,e)}))},a.onChange=function(e){a.setState({data:Object(P.a)({},a.state.data,Object(z.a)({},e.target.name,e.target.value))})},a.updateInfo=function(){var e=a.state,t=e.data,n=e.resourceId;a.setState({loader:!0}),j.a.put("/api/resource/"+n,t).then((function(e){console.log(e),a.setState({loader:!1,edit:!1,alert:{type:"success",message:e.data.message}})})).catch((function(e){console.log(e),a.setState({loader:!1,alert:{type:"danger",message:e.message}})}))},a.state={resourceId:0,data:{},edit:!1,loader:!1,alert:{type:"",message:""},images:[],files:[],imagePreviewUrl:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=a.name,l=a.address,c=a.city,o=a.state,s=a.zipCode,i=a.county,u=a.phone,d=a.type,m=a.capacity,p=a.mapUrl,h=t.edit,f=t.alert,g=t.loader;return r.a.createElement("div",null,r.a.createElement(w,{value:"Edit Resource"}),f.type?r.a.createElement(F,{data:f}):"",r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("table",{className:"table table-bordered table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{width:"40%",style:{fontSize:25,fontStyle:"italic"}},"Details"),r.a.createElement("th",{width:"60%"},h?r.a.createElement("div",null,r.a.createElement(R,{title:"Update",loader:g,buttonStyle:"primary",dimen:20,onClick:this.updateInfo,loaderStyle:"Audio"}),r.a.createElement("button",{onClick:function(){return e.setState({edit:!1})},className:"btn btn-danger",style:{marginLeft:10}},"Cancel")):r.a.createElement("button",{onClick:function(){return e.setState({edit:!0})},className:"btn btn-info"},"Edit")))),r.a.createElement("tbody",null,r.a.createElement(H,{title:"Name",name:"name",flag:h,value:n,onChange:this.onChange}),r.a.createElement(H,{title:"Address",name:"address",flag:h,value:l,onChange:this.onChange}),r.a.createElement(H,{title:"City",name:"city",flag:h,value:c,onChange:this.onChange}),r.a.createElement(H,{title:"State",name:"state",flag:h,value:o,onChange:this.onChange}),r.a.createElement(H,{title:"Zip Code",name:"zipCode",flag:h,value:s,onChange:this.onChange}),r.a.createElement(H,{title:"County",name:"county",flag:h,value:i,onChange:this.onChange}),r.a.createElement(H,{title:"Phone",name:"phone",flag:h,value:u,onChange:this.onChange}),r.a.createElement(H,{title:"Type",name:"type",flag:h,value:d,onChange:this.onChange}),r.a.createElement(H,{title:"Capacity",name:"capacity",flag:h,value:m,onChange:this.onChange}),r.a.createElement(H,{title:"Map URL",name:"mapUrl",flag:h,value:p,onChange:this.onChange})))),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Example file input"),r.a.createElement("input",{type:"file",className:"form-control-file",id:"csvUpload",onChange:this.grabImages,multiple:!0})),r.a.createElement("div",{style:{textAlign:"center"}},this.state.images.map((function(e,t){return r.a.createElement("img",{key:t,src:e,style:{height:100,width:100,marginLeft:10,marginRight:10,marginBottom:10}})})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("button",{className:"btn btn-primary",onClick:this.uploadData},"Upload"))))))}}]),t}(n.Component),M=function(e){var t=e.component,a=Object(p.a)(e,["component"]);return r.a.createElement(h.a,Object.assign({},a,{render:function(e){return r.a.createElement(b,null,r.a.createElement(t,e))}}))},V=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement(h.c,null,r.a.createElement(M,{exact:!0,path:"/upload-resource",component:L}),r.a.createElement(M,{exact:!0,path:"/resource-list",component:B}),r.a.createElement(M,{path:"/resource-list/:resourceId",component:J}),r.a.createElement(M,{exact:!0,path:"/",component:L})))}}]),t}(n.Component),Z=a(64),W={isCollapsed:!1},G={resources:[],resource:{}},$=Object(U.c)({sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COLLAPSE_SIDEBAR":return{isCollapsed:t.payload.isCollapsed};default:return e}},resources:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_RESOURCES_RESOLVED":return Object(P.a)({},e,{resources:t.payload});default:return e}}}),q=function(e,t){return $(e,t)},K=[Z.a,function(e){return function(e){return function(t){console.log("Logger: ",t),e(t)}}}],Q=Object(U.d)(U.a.apply(void 0,K)),X=Object(U.e)(q,{},Q);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(o.a,{store:X},r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},61:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},65:function(e,t,a){e.exports=a(160)},74:function(e,t,a){},75:function(e,t,a){}},[[65,1,2]]]);
//# sourceMappingURL=main.a4df598a.chunk.js.map